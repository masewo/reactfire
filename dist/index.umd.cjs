(function(l,M){typeof exports=="object"&&typeof module<"u"?M(exports,require("react"),require("firebase/auth"),require("firebase/database"),require("firebase/app"),require("firebase/firestore"),require("firebase/functions"),require("firebase/storage"),require("firebase/remote-config")):typeof define=="function"&&define.amd?define(["exports","react","firebase/auth","firebase/database","firebase/app","firebase/firestore","firebase/functions","firebase/storage","firebase/remote-config"],M):(l=typeof globalThis<"u"?globalThis:l||self,M(l.ReactFire={},l.React,l.auth,l.database,l.app,l.firestore,l.functions,l.storage,l.remoteConfig))})(this,function(l,M,Xt,N,re,et,en,tt,H){"use strict";function tn(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const h=tn(M);var Ce=function(e,t){return Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ce(e,t)};function R(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ce(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function nn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Oe(e,t,n,r){function i(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function a(f){try{c(r.next(f))}catch(d){u(d)}}function s(f){try{c(r.throw(f))}catch(d){u(d)}}function c(f){f.done?o(f.value):i(f.value).then(a,s)}c((r=r.apply(e,t||[])).next())})}function nt(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function a(c){return function(f){return s([c,f])}}function s(c){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(f){c=[6,f],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function G(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function q(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],u;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){u={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o}function W(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Q(e){return this instanceof Q?(this.v=e,this):new Q(e)}function rn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",u),i[Symbol.asyncIterator]=function(){return this},i;function u(v){return function(b){return Promise.resolve(b).then(v,d)}}function a(v,b){r[v]&&(i[v]=function(p){return new Promise(function(A,F){o.push([v,p,A,F])>1||s(v,p)})},b&&(i[v]=b(i[v])))}function s(v,b){try{c(r[v](b))}catch(p){m(o[0][3],p)}}function c(v){v.value instanceof Q?Promise.resolve(v.value.v).then(f,d):m(o[0][2],v)}function f(v){s("next",v)}function d(v){s("throw",v)}function m(v,b){v(b),o.shift(),o.length&&s(o[0][0],o[0][1])}}function on(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof G=="function"?G(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(u){return new Promise(function(a,s){u=e[o](u),i(a,s,u.done,u.value)})}}function i(o,u,a,s){Promise.resolve(s).then(function(c){o({value:c,done:a})},u)}}typeof SuppressedError=="function"&&SuppressedError;function S(e){return typeof e=="function"}function Ie(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ae=Ie(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function ie(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var B=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var a=G(u),s=a.next();!s.done;s=a.next()){var c=s.value;c.remove(this)}}catch(p){t={error:p}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else u.remove(this);var f=this.initialTeardown;if(S(f))try{f()}catch(p){o=p instanceof Ae?p.errors:[p]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var m=G(d),v=m.next();!v.done;v=m.next()){var b=v.value;try{ot(b)}catch(p){o=o??[],p instanceof Ae?o=W(W([],q(o)),q(p.errors)):o.push(p)}}}catch(p){r={error:p}}finally{try{v&&!v.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}}if(o)throw new Ae(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)ot(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&ie(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&ie(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),rt=B.EMPTY;function it(e){return e instanceof B||e&&"closed"in e&&S(e.remove)&&S(e.add)&&S(e.unsubscribe)}function ot(e){S(e)?e():e.unsubscribe()}var ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ke={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=ke.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,W([e,t],q(n))):setTimeout.apply(void 0,W([e,t],q(n)))},clearTimeout:function(e){var t=ke.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function at(e){ke.setTimeout(function(){throw e})}function Fe(){}function oe(e){e()}var Pe=function(e){R(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,it(n)&&n.add(r)):r.destination=cn,r}return t.create=function(n,r,i){return new z(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(B),un=Function.prototype.bind;function De(e,t){return un.call(e,t)}var an=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){ue(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){ue(r)}else ue(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){ue(n)}},e}(),z=function(e){R(t,e);function t(n,r,i){var o=e.call(this)||this,u;if(S(n)||!n)u={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;o&&ut.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return o.unsubscribe()},u={next:n.next&&De(n.next,a),error:n.error&&De(n.error,a),complete:n.complete&&De(n.complete,a)}):u=n}return o.destination=new an(u),o}return t}(Pe);function ue(e){at(e)}function sn(e){throw e}var cn={closed:!0,next:Fe,error:sn,complete:Fe},Te=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function J(e){return e}function ln(e){return e.length===0?J:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var E=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=dn(t)?t:new z(t,n,r);return oe(function(){var u=i,a=u.operator,s=u.source;o.add(a?a.call(o,s):s?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=st(n),new n(function(i,o){var u=new z({next:function(a){try{t(a)}catch(s){o(s),u.unsubscribe()}},error:o,complete:i});r.subscribe(u)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Te]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ln(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=st(t),new t(function(r,i){var o;n.subscribe(function(u){return o=u},function(u){return i(u)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function st(e){var t;return(t=e??ut.Promise)!==null&&t!==void 0?t:Promise}function fn(e){return e&&S(e.next)&&S(e.error)&&S(e.complete)}function dn(e){return e&&e instanceof Pe||fn(e)&&it(e)}function vn(e){return S(e==null?void 0:e.lift)}function O(e){return function(t){if(vn(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function I(e,t,n,r,i){return new hn(e,t,n,r,i)}var hn=function(e){R(t,e);function t(n,r,i,o,u,a){var s=e.call(this,n)||this;return s.onFinalize=u,s.shouldUnsubscribe=a,s._next=r?function(c){try{r(c)}catch(f){n.error(f)}}:e.prototype._next,s._error=o?function(c){try{o(c)}catch(f){n.error(f)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,s}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Pe),pn=Ie(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ae=function(e){R(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new ct(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new pn},t.prototype.next=function(n){var r=this;oe(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var u=G(r.currentObservers),a=u.next();!a.done;a=u.next()){var s=a.value;s.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;oe(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;oe(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,u=i.isStopped,a=i.observers;return o||u?rt:(this.currentObservers=null,a.push(n),new B(function(){r.currentObservers=null,ie(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,u=r.isStopped;i?n.error(o):u&&n.complete()},t.prototype.asObservable=function(){var n=new E;return n.source=this,n},t.create=function(n,r){return new ct(n,r)},t}(E),ct=function(e){R(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:rt},t}(ae),xe={now:function(){return(xe.delegate||Date).now()},delegate:void 0},mn=function(e){R(t,e);function t(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=xe);var o=e.call(this)||this;return o._bufferSize=n,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,n),o._windowTime=Math.max(1,r),o}return t.prototype.next=function(n){var r=this,i=r.isStopped,o=r._buffer,u=r._infiniteTimeWindow,a=r._timestampProvider,s=r._windowTime;i||(o.push(n),!u&&o.push(a.now()+s)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,o=i._infiniteTimeWindow,u=i._buffer,a=u.slice(),s=0;s<a.length&&!n.closed;s+=o?1:2)n.next(a[s]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,o=n._buffer,u=n._infiniteTimeWindow,a=(u?1:2)*r;if(r<1/0&&a<o.length&&o.splice(0,o.length-a),!u){for(var s=i.now(),c=0,f=1;f<o.length&&o[f]<=s;f+=2)c=f;c&&o.splice(0,c+1)}},t}(ae),bn=function(e){R(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(B),se={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=se.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,W([e,t],q(n))):setInterval.apply(void 0,W([e,t],q(n)))},clearInterval:function(e){var t=se.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},yn=function(e){R(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,u=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(u,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(u,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),se.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&se.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(u){i=!0,o=u||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,ie(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(bn),lt=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=xe.now,e}(),gn=function(e){R(t,e);function t(n,r){r===void 0&&(r=lt.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(lt),ft=new gn(yn),Sn=ft,Re=new E(function(e){return e.complete()});function _n(e){return e?wn(e):Re}function wn(e){return new E(function(t){return e.schedule(function(){return t.complete()})})}function dt(e){return e&&S(e.schedule)}function vt(e){return e[e.length-1]}function $e(e){return dt(vt(e))?e.pop():void 0}function En(e,t){return typeof vt(e)=="number"?e.pop():t}var ht=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function pt(e){return S(e==null?void 0:e.then)}function mt(e){return S(e[Te])}function bt(e){return Symbol.asyncIterator&&S(e==null?void 0:e[Symbol.asyncIterator])}function yt(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Cn(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gt=Cn();function St(e){return S(e==null?void 0:e[gt])}function _t(e){return rn(this,arguments,function(){var n,r,i,o;return nt(this,function(u){switch(u.label){case 0:n=e.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,Q(n.read())];case 3:return r=u.sent(),i=r.value,o=r.done,o?[4,Q(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,Q(i)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function wt(e){return S(e==null?void 0:e.getReader)}function P(e){if(e instanceof E)return e;if(e!=null){if(mt(e))return On(e);if(ht(e))return In(e);if(pt(e))return An(e);if(bt(e))return Et(e);if(St(e))return kn(e);if(wt(e))return Fn(e)}throw yt(e)}function On(e){return new E(function(t){var n=e[Te]();if(S(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function In(e){return new E(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function An(e){return new E(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,at)})}function kn(e){return new E(function(t){var n,r;try{for(var i=G(e),o=i.next();!o.done;o=i.next()){var u=o.value;if(t.next(u),t.closed)return}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function Et(e){return new E(function(t){Pn(e,t).catch(function(n){return t.error(n)})})}function Fn(e){return Et(_t(e))}function Pn(e,t){var n,r,i,o;return Oe(this,void 0,void 0,function(){var u,a;return nt(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),n=on(e),s.label=1;case 1:return[4,n.next()];case 2:if(r=s.sent(),!!r.done)return[3,4];if(u=r.value,t.next(u),t.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=s.sent(),i={error:a},[3,11];case 6:return s.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function U(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Ct(e,t){return t===void 0&&(t=0),O(function(n,r){n.subscribe(I(r,function(i){return U(r,e,function(){return r.next(i)},t)},function(){return U(r,e,function(){return r.complete()},t)},function(i){return U(r,e,function(){return r.error(i)},t)}))})}function Ot(e,t){return t===void 0&&(t=0),O(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Dn(e,t){return P(e).pipe(Ot(t),Ct(t))}function Tn(e,t){return P(e).pipe(Ot(t),Ct(t))}function xn(e,t){return new E(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Rn(e,t){return new E(function(n){var r;return U(n,t,function(){r=e[gt](),U(n,t,function(){var i,o,u;try{i=r.next(),o=i.value,u=i.done}catch(a){n.error(a);return}u?n.complete():n.next(o)},0,!0)}),function(){return S(r==null?void 0:r.return)&&r.return()}})}function It(e,t){if(!e)throw new Error("Iterable cannot be null");return new E(function(n){U(n,t,function(){var r=e[Symbol.asyncIterator]();U(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function $n(e,t){return It(_t(e),t)}function jn(e,t){if(e!=null){if(mt(e))return Dn(e,t);if(ht(e))return xn(e,t);if(pt(e))return Tn(e,t);if(bt(e))return It(e,t);if(St(e))return Rn(e,t);if(wt(e))return $n(e,t)}throw yt(e)}function D(e,t){return t?jn(e,t):P(e)}function je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=$e(e);return D(e,n)}var At=Ie(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Ln(e){return e instanceof Date&&!isNaN(e)}function T(e,t){return O(function(n,r){var i=0;n.subscribe(I(r,function(o){r.next(e.call(t,o,i++))}))})}function Un(e,t,n,r,i,o,u,a){var s=[],c=0,f=0,d=!1,m=function(){d&&!s.length&&!c&&t.complete()},v=function(p){return c<r?b(p):s.push(p)},b=function(p){o&&t.next(p),c++;var A=!1;P(n(p,f++)).subscribe(I(t,function(F){i==null||i(F),o?v(F):t.next(F)},function(){A=!0},void 0,function(){if(A)try{c--;for(var F=function(){var V=s.shift();u?U(t,u,function(){return b(V)}):b(V)};s.length&&c<r;)F();m()}catch(V){t.error(V)}}))};return e.subscribe(I(t,v,function(){d=!0,m()})),function(){a==null||a()}}function Le(e,t,n){return n===void 0&&(n=1/0),S(t)?Le(function(r,i){return T(function(o,u){return t(r,o,i,u)})(P(e(r,i)))},n):(typeof t=="number"&&(n=t),O(function(r,i){return Un(r,i,e,n)}))}function kt(e){return e===void 0&&(e=1/0),Le(J,e)}function Vn(){return kt(1)}function Mn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Vn()(D(e,$e(e)))}function Nn(e,t,n){e===void 0&&(e=0),n===void 0&&(n=Sn);var r=-1;return t!=null&&(dt(t)?n=t:r=t),new E(function(i){var o=Ln(e)?+e-n.now():e;o<0&&(o=0);var u=0;return n.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function qn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=$e(e),r=En(e,1/0),i=e;return i.length?i.length===1?P(i[0]):kt(r)(D(i,n)):Re}function Wn(e,t){return O(function(n,r){var i=0;n.subscribe(I(r,function(o){return e.call(t,o,i++)&&r.next(o)}))})}function Ft(e){return O(function(t,n){var r=null,i=!1,o;r=t.subscribe(I(n,void 0,void 0,function(u){o=P(e(u,Ft(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Kn(e,t,n,r,i){return function(o,u){var a=n,s=t,c=0;o.subscribe(I(u,function(f){var d=c++;s=a?e(s,f,d):(a=!0,f),r&&u.next(s)},i&&function(){a&&u.next(s),u.complete()}))}}function Hn(e){return O(function(t,n){var r=!1;t.subscribe(I(n,function(i){r=!0,n.next(i)},function(){r||n.next(e),n.complete()}))})}function Ue(e){return e<=0?function(){return Re}:O(function(t,n){var r=0;t.subscribe(I(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Gn(){return O(function(e,t){e.subscribe(I(t,Fe))})}function Qn(e){return T(function(){return e})}function Pt(e,t){return t?function(n){return Mn(t.pipe(Ue(1),Gn()),n.pipe(Pt(e)))}:Le(function(n,r){return P(e(n,r)).pipe(Ue(1),Qn(n))})}function Yn(e,t){t===void 0&&(t=ft);var n=Nn(e,t);return Pt(function(){return n})}function Bn(e,t){return t===void 0&&(t=J),e=e??zn,O(function(n,r){var i,o=!0;n.subscribe(I(r,function(u){var a=t(u);(o||!e(i,a))&&(o=!1,i=a,r.next(u))}))})}function zn(e,t){return e===t}function Jn(e){return e===void 0&&(e=Zn),O(function(t,n){var r=!1;t.subscribe(I(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(e())}))})}function Zn(){return new At}function Dt(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Wn(function(i,o){return e(i,o,r)}):J,Ue(1),n?Hn(t):Jn(function(){return new At}))}}function Xn(e,t){return O(Kn(e,t,arguments.length>=2,!0))}function er(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new ae}:t,r=e.resetOnError,i=r===void 0?!0:r,o=e.resetOnComplete,u=o===void 0?!0:o,a=e.resetOnRefCountZero,s=a===void 0?!0:a;return function(c){var f,d,m,v=0,b=!1,p=!1,A=function(){d==null||d.unsubscribe(),d=void 0},F=function(){A(),f=m=void 0,b=p=!1},V=function(){var g=f;F(),g==null||g.unsubscribe()};return O(function(g,y){v++,!p&&!b&&A();var k=m=m??n();y.add(function(){v--,v===0&&!p&&!b&&(d=Ve(V,s))}),k.subscribe(y),!f&&v>0&&(f=new z({next:function(w){return k.next(w)},error:function(w){p=!0,A(),d=Ve(F,i,w),k.error(w)},complete:function(){b=!0,A(),d=Ve(F,u),k.complete()}}),P(g).subscribe(f))})(c)}}function Ve(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new z({next:function(){i.unsubscribe(),e()}});return P(t.apply(void 0,W([],q(n)))).subscribe(i)}}function tr(e,t,n){var r,i,o,u,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,u=r===void 0?1/0:r,i=e.windowTime,t=i===void 0?1/0:i,o=e.refCount,a=o===void 0?!1:o,n=e.scheduler):u=e??1/0,er({connector:function(){return new mn(u,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Tt(e,t){return O(function(n,r){var i=null,o=0,u=!1,a=function(){return u&&!i&&r.complete()};n.subscribe(I(r,function(s){i==null||i.unsubscribe();var c=0,f=o++;P(e(s,f)).subscribe(i=I(r,function(d){return r.next(t?t(s,d,f,c++):d)},function(){i=null,a()}))},function(){u=!0,a()}))})}function nr(e,t,n){var r=S(e)||t||n?{next:e,error:t,complete:n}:e;return r?O(function(i,o){var u;(u=r.subscribe)===null||u===void 0||u.call(r);var a=!0;i.subscribe(I(o,function(s){var c;(c=r.next)===null||c===void 0||c.call(r,s),o.next(s)},function(){var s;a=!1,(s=r.complete)===null||s===void 0||s.call(r),o.complete()},function(s){var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,s),o.error(s)},function(){var s,c;a&&((s=r.unsubscribe)===null||s===void 0||s.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):J}function Me(e){return new E(function(t){var n=Xt.onIdTokenChanged(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:n}})}const rr="[DEFAULT]",xt=h.createContext(void 0),Ne=h.createContext(!1),Rt="4.2.3",ir=(e,t)=>e===t||[...Object.keys(e),...Object.keys(t)].every(n=>e[n]===t[n]);function or(e){const{firebaseConfig:t,appName:n,suspense:r}=e,i=h.useMemo(()=>{if(e.firebaseApp)return e.firebaseApp;const o=re.getApps().find(u=>u.name===(n||rr));if(o){if(t&&ir(o.options,t))return o;throw new Error(`Does not match the options already provided to the ${n||"default"} firebase app instance, give this new instance a different appName.`)}else{if(!t)throw new Error("No firebaseConfig provided");const u=h.version||"unknown";return re.registerVersion("react",u),re.registerVersion("reactfire",Rt),re.initializeApp(t,n)}},[e.firebaseApp,t,n]);return h.createElement(xt.Provider,{value:i},h.createElement(Ne.Provider,Object.assign({value:r??!1},e)))}function ur(){const e=h.useContext(Ne);return e??!1}function Z(e){const t=h.useContext(Ne);return e!==void 0?e:t}function qe(){const e=h.useContext(xt);if(!e)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return e}function ar(e){return Oe(this,void 0,void 0,function*(){const t=yield e();return ve(Me(t),`auth:user:${t.name}`).toPromise()})}function $t(e){const t=Je(),n=`auth:user:${t.name}`,r=Me(t);return C(n,r,e)}function jt(e,t=!1,n){if(!e)throw new Error("you must provide a user");const r=`auth:idTokenResult:${e.uid}:forceRefresh=${t}`,i=D(e.getIdTokenResult(t));return C(r,i,n)}function sr(e){if(e!=null&&e.hasOwnProperty("requiredClaims")&&(e!=null&&e.hasOwnProperty("validateCustomClaims")))throw new Error('Cannot have both "requiredClaims" and "validateCustomClaims". Use one or the other.');const t=Je();let n=`auth:signInCheck:${t.name}::forceRefresh:${!!(e!=null&&e.forceRefresh)}`;e!=null&&e.forceRefresh&&(n=`${n}:forceRefresh:${e.forceRefresh}`),e!=null&&e.hasOwnProperty("requiredClaims")?n=`${n}:requiredClaims:${JSON.stringify(e.requiredClaims)}`:e!=null&&e.hasOwnProperty("validateCustomClaims")&&(n=`${n}:validateCustomClaims:${JSON.stringify(e.validateCustomClaims)}`);const r=Me(t).pipe(Tt(i=>{var o;return i?e&&(e.hasOwnProperty("requiredClaims")||e.hasOwnProperty("validateCustomClaims"))?D(i.getIdTokenResult((o=e==null?void 0:e.forceRefresh)!==null&&o!==void 0?o:!1)).pipe(T(u=>{let a;e.hasOwnProperty("requiredClaims")?a=cr(e.requiredClaims):a=e.validateCustomClaims;const{hasRequiredClaims:s,errors:c}=a(u.claims);return{signedIn:!0,hasRequiredClaims:s,errors:c,user:i}})):je({signedIn:!0,hasRequiredClaims:!0,errors:{},user:i}):je({signedIn:!1,hasRequiredClaims:!1,errors:{},user:null})}));return C(n,r,e)}function cr(e){return function(n){const r={};return Object.keys(e).forEach(i=>{e[i]!==n[i]&&(r[i]=[new Ee("auth/missing-claim",`Expected "${e[i]}", but user has "${n[i]}" instead`)])}),{hasRequiredClaims:Object.keys(r).length===0,errors:r}}}function Lt({user:e,fallback:t,children:n,requiredClaims:r}){const{data:i,status:o,error:u}=jt(e,!1);if(o==="loading")throw new Error("ClaimsCheck must be run in Suspense mode");if(o==="error")throw u;const{claims:a}=i,s={};return Z()||console.warn("ClaimsCheck is deprecated and only works when ReactFire is in experimental Suspense Mode. Use useSigninCheck or set suspense={true} in FirebaseAppProvider if you want to use this component."),r&&Object.keys(r).forEach(f=>{var d;r[f]!==a[f]&&(s[f]={expected:r[f],actual:(d=a[f])===null||d===void 0?void 0:d.toString()})}),Object.keys(s).length===0?h.createElement(h.Fragment,null,n):h.createElement(h.Fragment,null,t)}function lr({fallback:e,children:t,requiredClaims:n}){const{data:r}=$t();return Z()||console.warn("AuthCheck is deprecated and only works when ReactFire is in experimental Suspense Mode. Use useSigninCheck or set suspense={true} in FirebaseAppProvider if you want to use this component."),r?n?h.createElement(Lt,{user:r,fallback:e,requiredClaims:n},t):h.createElement(h.Fragment,null,t):h.createElement(h.Fragment,null,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K,_;(function(e){e.added="child_added",e.removed="child_removed",e.changed="child_changed",e.moved="child_moved",e.value="value"})(_||(_={}));var fr=Object.freeze((K={},K[_.added]=N.onChildAdded,K[_.removed]=N.onChildRemoved,K[_.changed]=N.onChildChanged,K[_.moved]=N.onChildMoved,K[_.value]=N.onValue,K));/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(e,t){return new E(function(n){var r=fr[t](e,function(i,o){n.next({snapshot:i,prevKey:o,event:t})},n.error.bind(n));return{unsubscribe:function(){N.off(e,t,r)}}}).pipe(Yn(0))}var ce=function(){return ce=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ce.apply(this,arguments)};function Ke(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(e){return(e==null||e.length===0)&&(e=[_.added,_.removed,_.changed,_.moved]),e}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(e){return We(e,_.value)}function hr(e,t){return t===void 0&&(t={}),We(e,_.value).pipe(T(function(n){return Ut(n,t)}))}function Ut(e,t){var n;t===void 0&&(t={});var r=e.snapshot.val();return!e.snapshot.exists()||typeof r!="object"?r:ce(ce({},r),t.keyField?(n={},n[t.keyField]=e.snapshot.key,n):null)}function pr(e){return D(N.get(e)).pipe(T(function(t){var n=_.value;return{snapshot:t,prevKey:null,event:n}}))}function Vt(e,t){t===void 0&&(t={});var n=dr(t.events);return pr(e).pipe(Tt(function(r){var i=[je(r)];return n.forEach(function(o){i.push(We(e,o))}),qn.apply(void 0,i).pipe(Xn(yr,[]))}),Bn())}function mr(e,t){return t===void 0&&(t={}),Vt(e).pipe(T(function(n){return n.map(function(r){return Ut(r,t)})}))}function Mt(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].snapshot.key===t)return r;return-1}function br(e,t){if(t==null)return 0;var n=Mt(e,t);return n===-1?e.length:n+1}function yr(e,t){var n=t.snapshot,r=t.prevKey,i=t.event,o=n.key,u=Mt(e,o),a=br(e,r||void 0);switch(i){case _.value:if(t.snapshot&&t.snapshot.exists()){var s=null;t.snapshot.forEach(function(d){var m={snapshot:d,event:_.value,prevKey:s};return s=d.key,e=Ke(Ke([],e,!0),[m],!1),!1})}return e;case _.added:if(u>-1){var c=e[u-1];(c&&c.snapshot.key||null)!==r&&(e=e.filter(function(d){return d.snapshot.key!==n.key}),e.splice(a,0,t))}else{if(r==null)return Ke([t],e,!0);e=e.slice(),e.splice(a,0,t)}return e;case _.removed:return e.filter(function(d){return d.snapshot.key!==n.key});case _.changed:return e.map(function(d){return d.snapshot.key===o?t:d});case _.moved:if(u>-1){var f=e.splice(u,1)[0];return e=e.slice(),e.splice(a,0,f),e}return e;default:return e}}const He=globalThis._reactFireDatabaseCachedQueries||[];globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=He);function Nt(e){const t=He.findIndex(n=>n.isEqual(e));return t>-1?t:He.push(e)-1}function gr(e,t){const n=`database:object:${e.toString()}`,r=vr(e);return C(n,r,t)}function Sr(e,t){const n=t?Y(t):"NO_ID_FIELD",r=`database:objectVal:${e.toString()}:idField=${n}`,i=hr(e,{keyField:n});return C(r,i,t)}function _r(e,t){const n=`database:list:${Nt(e)}`,r=Vt(e);return C(n,r,t)}function wr(e,t){const n=t?Y(t):"NO_ID_FIELD",r=`database:listVal:${Nt(e)}:idField=${n}`,i=mr(e,{keyField:n});return C(r,i,t)}var le=function(){return le=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},le.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Er={includeMetadataChanges:!1};function Ge(e,t){return t===void 0&&(t=Er),new E(function(n){var r=et.onSnapshot(e,t,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(e){return Ge(e,{includeMetadataChanges:!0})}function qt(e,t){return t===void 0&&(t={}),fe(e).pipe(T(function(n){return Wt(n,t)}))}function Wt(e,t){var n;t===void 0&&(t={});var r=e.data(t);return!e.exists()||typeof r!="object"||r===null||!t.idField?r:le(le({},r),(n={},n[t.idField]=e.id,n))}function Cr(e){return Ge(e,{includeMetadataChanges:!0}).pipe(T(function(t){return t.docs}))}function Or(e,t){return t===void 0&&(t={}),Cr(e).pipe(T(function(n){return n.map(function(r){return Wt(r,t)})}))}var Qe={exports:{}},Ye={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt;function Ir(){if(Kt)return Ye;Kt=1;var e=M;function t(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function a(d,m){var v=m(),b=r({inst:{value:v,getSnapshot:m}}),p=b[0].inst,A=b[1];return o(function(){p.value=v,p.getSnapshot=m,s(p)&&A({inst:p})},[d,v,m]),i(function(){return s(p)&&A({inst:p}),d(function(){s(p)&&A({inst:p})})},[d]),u(v),v}function s(d){var m=d.getSnapshot;d=d.value;try{var v=m();return!n(d,v)}catch{return!0}}function c(d,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Ye.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Ye}var Be={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ht;function Ar(){return Ht||(Ht=1,process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=M,t=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function n(g){{for(var y=arguments.length,k=new Array(y>1?y-1:0),w=1;w<y;w++)k[w-1]=arguments[w];r("error",g,k)}}function r(g,y,k){{var w=t.ReactDebugCurrentFrame,te=w.getStackAddendum();te!==""&&(y+="%s",k=k.concat([te]));var ne=k.map(function(x){return String(x)});ne.unshift("Warning: "+y),Function.prototype.apply.call(console[g],console,ne)}}function i(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var o=typeof Object.is=="function"?Object.is:i,u=e.useState,a=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue,f=!1,d=!1;function m(g,y,k){f||e.startTransition!==void 0&&(f=!0,n("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var w=y();if(!d){var te=y();o(w,te)||(n("The result of getSnapshot should be cached to avoid an infinite loop"),d=!0)}var ne=u({inst:{value:w,getSnapshot:y}}),x=ne[0].inst,Xe=ne[1];return s(function(){x.value=w,x.getSnapshot=y,v(x)&&Xe({inst:x})},[g,w,y]),a(function(){v(x)&&Xe({inst:x});var Ii=function(){v(x)&&Xe({inst:x})};return g(Ii)},[g]),c(w),w}function v(g){var y=g.getSnapshot,k=g.value;try{var w=y();return!o(k,w)}catch{return!0}}function b(g,y,k){return y()}var p=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A=!p,F=A?b:m,V=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:F;Be.useSyncExternalStore=V,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),Be}process.env.NODE_ENV==="production"?Qe.exports=Ir():Qe.exports=Ar();var kr=Qe.exports;class Fr extends ae{constructor(t,n,r){super(),this._timeoutWindow=n,this._suspenseEnabled=r,this._hasValue=!1,this._error=void 0,this._isComplete=!1,this._firstEmission=new Promise(i=>this._resolveFirstEmission=i),this._immutableStatus={status:"loading",hasEmitted:!1,isComplete:!1,data:void 0,error:void 0,firstValuePromise:this._firstEmission},this._innerObservable=t.pipe(nr({next:i=>{this._next(i)},error:i=>{this._error=i,this._resolveFirstEmission(),this._updateImmutableStatus()},complete:()=>{this._isComplete=!0,this._updateImmutableStatus()}}),Ft(()=>_n()),tr(1)),this._warmupSubscription=this._innerObservable.subscribe(),this._suspenseEnabled?this._timeoutHandler=setTimeout(()=>{},this._timeoutWindow):this._timeoutHandler=setTimeout(this._reset.bind(this),this._timeoutWindow)}get hasValue(){return this._hasValue||!!this._error}get value(){if(this._error)throw this._error;if(!this.hasValue)throw Error("Can only get value if SuspenseSubject has a value");return this._value}get firstEmission(){return this._firstEmission}_updateImmutableStatus(){this._immutableStatus={status:this._error?"error":this._hasValue?"success":"loading",hasEmitted:this._hasValue,isComplete:this._isComplete,data:this._value,error:this._error,firstValuePromise:this._firstEmission}}_next(t){this._hasValue=!0,this._value=t,this._resolveFirstEmission(),this._updateImmutableStatus()}_reset(){this._warmupSubscription&&this._warmupSubscription.unsubscribe(),this._hasValue=!1,this._value=void 0,this._error=void 0,this._firstEmission=new Promise(t=>this._resolveFirstEmission=t),this._updateImmutableStatus()}_subscribe(t){return this._timeoutHandler&&clearTimeout(this._timeoutHandler),this._innerSubscriber=this._innerObservable.subscribe(t),this._innerSubscriber}get ourError(){return this._error}get immutableStatus(){return this._immutableStatus}}const Pr=3e4,de=globalThis._reactFirePreloadedObservables||new Map;globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=de);function ve(e,t,n=!1){if(de.has(t))return de.get(t);{const r=new Fr(e,Pr,n);return de.set(t,r),r}}function C(e,t,n={}){var r;if(!e)throw new Error("cannot call useObservable without an observableId");const i=Z(n.suspense),o=ve(t,e,i),u=n.hasOwnProperty("initialData")||n.hasOwnProperty("startWithValue"),a=o.hasValue||u;if(i===!0&&!a)throw o.firstEmission;const s=h.useCallback(d=>{const m=o.subscribe({next:()=>{d()},error:v=>{throw d(),v},complete:()=>{d()}});return()=>{m.unsubscribe()}},[o]),c=h.useCallback(()=>o.immutableStatus,[o]),f=kr.useSyncExternalStore(s,c);if(!o.hasValue&&a&&(f.data=(r=n==null?void 0:n.initialData)!==null&&r!==void 0?r:n==null?void 0:n.startWithValue,f.status="success",f.hasEmitted=!0),f.error)throw f.error;return f}const ze=globalThis._reactFireFirestoreQueryCache||[];globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=ze);function Gt(e){const t=ze.findIndex(n=>et.queryEqual(n,e));return t>-1?t:ze.push(e)-1}function Dr(e){return Oe(this,void 0,void 0,function*(){const t=yield e();return ve(fe(t),Qt(t))})}function Qt(e){return`firestore:doc:${e.firestore.app.name}:${e.path}`}function Tr(e,t){const n=Qt(e),r=fe(e);return C(n,r,t)}function xr(e,t){const n=`firestore:docOnce:${e.firestore.app.name}:${e.path}`,r=fe(e).pipe(Dt());return C(n,r,t)}function Rr(e,t){const n=t?Y(t):"NO_ID_FIELD",r=`firestore:docData:${e.firestore.app.name}:${e.path}:idField=${n}`,i=qt(e,{idField:n});return C(r,i,t)}function $r(e,t){const n=t?Y(t):"NO_ID_FIELD",r=`firestore:docDataOnce:${e.firestore.app.name}:${e.path}:idField=${n}`,i=qt(e,{idField:n}).pipe(Dt());return C(r,i,t)}function jr(e,t){const n=`firestore:collection:${Gt(e)}`,r=Ge(e);return C(n,r,t)}function Lr(e,t){const n=t?Y(t):"NO_ID_FIELD",r=`firestore:collectionData:${Gt(e)}:idField=${n}`,i=Or(e,{idField:n});return C(r,i,t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(e,t,n){var r=en.httpsCallable(e,t,n);return function(i){return D(r(i)).pipe(T(function(o){return o.data}))}}function Vr(e,t){const n=zt(),r=`functions:callableResponse:${e}:${JSON.stringify(t==null?void 0:t.data)}:${JSON.stringify(t==null?void 0:t.httpsCallableOptions)}`,o=Ur(n,e,t==null?void 0:t.httpsCallableOptions)(t==null?void 0:t.data);return C(r,o,t)}function Mr({children:e,traceId:t,fallback:n}){var r;const i=((r=performance==null?void 0:performance.getEntriesByName)===null||r===void 0?void 0:r.call(performance,t,"measure"))||[],o=`_${t}Start[${i.length}]`,u=`_${t}End[${i.length}]`,a=()=>(h.useLayoutEffect(()=>{var s;return(s=performance==null?void 0:performance.mark)===null||s===void 0||s.call(performance,o),()=>{var c,f;(c=performance==null?void 0:performance.mark)===null||c===void 0||c.call(performance,u),(f=performance==null?void 0:performance.measure)===null||f===void 0||f.call(performance,t,o,u)}},[]),h.createElement(h.Fragment,null,n));return h.createElement(h.Suspense,{fallback:h.createElement(a,null)},e)}function X(e){var t=e.remoteConfig,n=e.key,r=e.getter;return new E(function(i){H.ensureInitialized(t).then(function(){var o=r.bind(t);i.next(o(t,n))})})}function Nr(e,t){var n=H.getValue;return X({remoteConfig:e,key:t,getter:n})}function qr(e,t){var n=H.getString;return X({remoteConfig:e,key:t,getter:n})}function Wr(e,t){var n=H.getNumber;return X({remoteConfig:e,key:t,getter:n})}function Kr(e,t){var n=H.getBoolean;return X({remoteConfig:e,key:t,getter:n})}function Hr(e){var t=H.getAll;return X({remoteConfig:e,key:"",getter:t})}function ee(e,t){const n=Zt(),r=n.app.name,i=t(n,e),o=`remoteConfig:${e}:${t.name}:${r}`;return C(o,i)}function Gr(e){return ee(e,Nr)}function Qr(e){return ee(e,qr)}function Yr(e){return ee(e,Wr)}function Br(e){return ee(e,Kr)}function zr(e){return ee(e,Hr)}function Jr(e){return new E(function(t){var n=null,r=!1,i=!1,o=null,u=function(c){n=c,s()},a=null,s=function(){a||(a=setTimeout(function(){a=null,n&&t.next(n),r&&t.complete(),i&&t.error(o)}))};t.add(function(){a&&clearTimeout(a)}),u(e.snapshot),t.add(e.on("state_changed",u)),t.add(D(e).subscribe({next:u,error:function(c){i=!0,o=c,s()},complete:function(){r=!0,s()}}))})}function Zr(e){return D(tt.getDownloadURL(e))}function Xr(e,t,n){const r=`storage:task:${t.toString()}`,i=Jr(e);return C(r,i,n)}function Yt(e,t){const n=`storage:downloadUrl:${e.toString()}`,r=Zr(e);return C(n,r,t)}function ei(e){const t=Jt();return e=Object.assign(Object.assign({},e),{storage:t}),h.createElement(Bt,Object.assign({},e))}function Bt(e){const{storage:t,storagePath:n,suspense:r,placeHolder:i}=e,o=nn(e,["storage","storagePath","suspense","placeHolder"]),u={suspense:Z(r)};if(!t)throw new Error("Storage was not passed to component INTERNALStorageImage. This should not be possible");const{status:a,data:s}=Yt(tt.ref(t,n),u);return a==="success"?(o.alt||o.alt===""||console.warn(`No alt prop provided for StorageImage with storagePath "${n}"`,"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images"),h.createElement("img",Object.assign({src:s,alt:o.alt},o))):i??h.createElement(h.Fragment,null,"''")}function ti(e){const{storage:t}=e;return t?h.createElement(Bt,Object.assign({},e)):h.createElement(ei,Object.assign({},e))}const he=h.createContext(void 0),pe=h.createContext(void 0),me=h.createContext(void 0),be=h.createContext(void 0),ye=h.createContext(void 0),ge=h.createContext(void 0),Se=h.createContext(void 0),_e=h.createContext(void 0),we=h.createContext(void 0);function $(e){return function(n){var r,i;if(!n.sdk)throw new Error("no sdk provided");const o=qe().name;if(((i=(r=n==null?void 0:n.sdk)===null||r===void 0?void 0:r.app)===null||i===void 0?void 0:i.name)!==o)throw new Error("sdk was initialized with a different firebase app");return h.createElement(e.Provider,Object.assign({value:n.sdk},n))}}function j(e){const t=h.useContext(e);if(!t)throw new Error("SDK not found. useSdk must be called from within a provider");return t}function L(e,t,n,r){const i=qe();if(h.useContext(t))throw new Error(`Cannot initialize SDK ${e} because it already exists in Context`);const o=h.useMemo(()=>n(i),[i]);return C(`firebase-sdk:${e}:${i.name}`,D(o),r)}const ni=$(he),ri=$(pe),ii=$(me),oi=$(be),ui=$(ye),ai=$(ge),si=$(_e),ci=$(Se),li=$(we),fi=()=>j(he),Je=()=>j(pe),di=()=>j(me),vi=()=>j(be),hi=()=>j(ye),zt=()=>j(ge),pi=()=>j(_e),Jt=()=>j(Se),Zt=()=>j(we),mi=(e,t)=>L("appcheck",he,e,t),bi=(e,t)=>L("auth",pe,e,t),yi=(e,t)=>L("analytics",me,e,t),gi=(e,t)=>L("database",be,e,t),Si=(e,t)=>L("firestore",ye,e,t),_i=(e,t)=>L("functions",ge,e,t),wi=(e,t)=>L("performance",_e,e,t),Ei=(e,t)=>L("remoteconfig",we,e,t),Ci=(e,t)=>L("storage",Se,e,t);class Ee extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="ReactFireError",Object.setPrototypeOf(this,Ee.prototype)}}function Ze(e,t){if(t==="idField"||t==="initialData"||t==="suspense")return e?e[t]:void 0;throw new Error(`Field "${t}" is not a valid key in ReactFireOptions`)}function Oi(e){return Ze(e,"initialData")}function Y(e){return Ze(e,"idField")}l.AnalyticsProvider=ii,l.AnalyticsSdkContext=me,l.AppCheckProvider=ni,l.AppCheckSdkContext=he,l.AuthCheck=lr,l.AuthProvider=ri,l.AuthSdkContext=pe,l.ClaimsCheck=Lt,l.DatabaseProvider=oi,l.DatabaseSdkContext=be,l.FirebaseAppProvider=or,l.FirestoreProvider=ui,l.FirestoreSdkContext=ye,l.FunctionsProvider=ai,l.FunctionsSdkContext=ge,l.PerformanceProvider=si,l.PerformanceSdkContext=_e,l.ReactFireError=Ee,l.RemoteConfigProvider=li,l.RemoteConfigSdkContext=we,l.StorageImage=ti,l.StorageProvider=ci,l.StorageSdkContext=Se,l.SuspenseWithPerf=Mr,l.checkIdField=Y,l.checkOptions=Ze,l.checkinitialData=Oi,l.preloadFirestoreDoc=Dr,l.preloadObservable=ve,l.preloadUser=ar,l.useAnalytics=di,l.useAppCheck=fi,l.useAuth=Je,l.useCallableFunctionResponse=Vr,l.useDatabase=vi,l.useDatabaseList=_r,l.useDatabaseListData=wr,l.useDatabaseObject=gr,l.useDatabaseObjectData=Sr,l.useFirebaseApp=qe,l.useFirestore=hi,l.useFirestoreCollection=jr,l.useFirestoreCollectionData=Lr,l.useFirestoreDoc=Tr,l.useFirestoreDocData=Rr,l.useFirestoreDocDataOnce=$r,l.useFirestoreDocOnce=xr,l.useFunctions=zt,l.useIdTokenResult=jt,l.useInitAnalytics=yi,l.useInitAppCheck=mi,l.useInitAuth=bi,l.useInitDatabase=gi,l.useInitFirestore=Si,l.useInitFunctions=_i,l.useInitPerformance=wi,l.useInitRemoteConfig=Ei,l.useInitStorage=Ci,l.useIsSuspenseEnabled=ur,l.useObservable=C,l.usePerformance=pi,l.useRemoteConfig=Zt,l.useRemoteConfigAll=zr,l.useRemoteConfigBoolean=Br,l.useRemoteConfigNumber=Yr,l.useRemoteConfigString=Qr,l.useRemoteConfigValue=Gr,l.useSigninCheck=sr,l.useStorage=Jt,l.useStorageDownloadURL=Yt,l.useStorageTask=Xr,l.useSuspenseEnabledFromConfigAndContext=Z,l.useUser=$t,l.version=Rt,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.umd.cjs.map
